<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Calculadora de Notas</title>
    <style>
        table { border-collapse: collapse; width: 50%; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        th { background-color: #f4f4f4; }
        form { margin-top: 20px; }
    </style>
</head>
<body>
    <h1>Bienvenido al Calculador de Notas</h1>
    
    <h2>Listado de Alumnos</h2>
    <table>
        <thead>
            <tr>
                <th>Nombre del Alumno</th>
                <th>Nota Final</th>
            </tr>
        </thead>
        <tbody>
            {% for alumno in alumnos %}
            <tr>
                <td>{{ alumno.nombre }}</td>
                <td>(pendiente)</td> </tr>
            {% else %}
            <tr>
                <td colspan="2">No hay alumnos cargados todavía.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <hr>
    <h2>Agregar Nuevo Alumno</h2>
    <form action="/agregar_alumno" method="POST">
        <label for="nombre_alumno">Nombre:</label>
        <input type="text" id="nombre_alumno" name="nombre_alumno" required>
        <button type="submit">Agregar Alumno</button>
    </form>
    <!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Calculadora de Notas</title>
    <style>
        body { font-family: sans-serif; margin: 20px; }
        table { border-collapse: collapse; width: 60%; margin-bottom: 20px; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        th { background-color: #f4f4f4; }
        form { margin-top: 15px; padding: 10px; border: 1px solid #eee; border-radius: 5px; }
        hr { margin: 30px 0; }
    </style>
</head>
<body>
    <h1>Calculador de Notas</h1>
    
    <h2>Listado de Alumnos</h2>
    <table>
        <thead>
            <tr>
                <th>Nombre del Alumno</th>
                <th>Nota Final</th>
            </tr>
        </thead>
        <tbody>
            {% for alumno in alumnos_calculados %}
            <tr>
                <td>{{ alumno.nombre }}</td>
                <td><strong>{{ "%.2f"|format(alumno.nota_final) }}</strong></td>
            </tr>
            {% else %}
            <tr>
                <td colspan="2">No hay alumnos cargados todavía.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <hr>

    <h2>Agregar Nuevo Alumno</h2>
    <form action="/agregar_alumno" method="POST">
        <label for="nombre_alumno">Nombre:</label>
        <input type="text" id="nombre_alumno" name="nombre_alumno" required>
        <button type="submit">Agregar Alumno</button>
    </form>

    <h2>Agregar Nota a un Alumno</h2>
    <form action="/agregar_nota" method="POST">
        <label for="alumno_select">Alumno:</label>
        <select id="alumno_select" name="alumno_id" required>
            <option value="">-- Seleccione un alumno --</option>
            {% for alumno in alumnos_db %}
                <option value="{{ alumno.id }}">{{ alumno.nombre }}</option>
            {% endfor %}
        </select>
        
        <label for="tipo_nota">Tipo:</label>
        <select id="tipo_nota" name="tipo_nota" required>
            <option value="parcial">Parcial</option>
            <option value="tp">Trabajo Práctico</option>
            <option value="conceptual">Conceptual</option>
        </select>
        
        <label for="valor_nota">Nota (1-10):</label>
        <input type="number" id="valor_nota" name="valor_nota" step="0.01" min="1" max="10" required>
        
        <button type="submit">Agregar Nota</button>
    </form>

</body>
</html>